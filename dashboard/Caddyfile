192.168.0.86 {
    # Serve static files from /srv
    root * /srv
    file_server

    # Handle SPA routing - fallback to index.html for client-side routing
    try_files {path} /index.html

    # Use internal CA for self-signed certificate
    tls internal

    # Security headers
    header {
        X-Content-Type-Options "nosniff"
        X-Frame-Options "SAMEORIGIN"
        Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' http://192.168.0.86:8001 ws://192.168.0.86:8001"
    }

    # Compression
    encode gzip
}
